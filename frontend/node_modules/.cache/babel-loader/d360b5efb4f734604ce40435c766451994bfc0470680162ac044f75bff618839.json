{"ast":null,"code":"import _objectSpread from\"C:/Users/Geo/Desktop/TFG/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import'./bibliotecas.css';import LectorLibro from'./lectorlibro';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:8081';function Bibliotecas(_ref){var _bibliotecaExpandida$;let{usuario}=_ref;const[Bibliotecas,setBibliotecas]=useState([]);const[bibliotecaExpandida,setBibliotecaExpandida]=useState(null);const[libroAbierto,setLibroAbierto]=useState(null);const[mostrarModalCrear,setMostrarModalCrear]=useState(false);const[formData,setFormData]=useState({nombre:'',descripcion:'',esPublica:false});const[mensaje,setMensaje]=useState('');const[cargando,setCargando]=useState(false);useEffect(()=>{cargarBibliotecas();},[]);const obtenerColorLibro=libroId=>{const colores=8;return\"color-\".concat(libroId%colores+1);};const cargarBibliotecas=async()=>{try{var _data$;const response=await fetch(\"\".concat(API_URL,\"/api/bibliotecas/listar\"));if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();console.log(\"JSON completo:\",JSON.stringify(data,null,2));console.log(\"Descripci√≥n de la primera biblioteca:\",(_data$=data[0])===null||_data$===void 0?void 0:_data$.descripcion);if(Array.isArray(data)){const misBibliotecas=data.filter(b=>b.creador&&b.creador.id===usuario.id);setBibliotecas(misBibliotecas);}else{console.error('‚ùå El backend no devolvi√≥ un array:',data);setBibliotecas([]);}}catch(error){console.error('‚ùå Error al cargar bibliotecas:',error);setBibliotecas([]);}};const expandirBiblioteca=biblioteca=>{setBibliotecaExpandida(biblioteca);};const cerrarExpandida=()=>{setBibliotecaExpandida(null);};const abrirLibro=(libro,e)=>{e.stopPropagation();setLibroAbierto(libro);};const cerrarLibro=()=>{setLibroAbierto(null);};// CREAR BIBLIOTECA\nconst abrirModalCrear=()=>{setMostrarModalCrear(true);setFormData({nombre:'',descripcion:'',esPublica:false});setMensaje('');};const cerrarModalCrear=()=>{setMostrarModalCrear(false);setFormData({nombre:'',descripcion:'',esPublica:false});setMensaje('');};const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));setMensaje('');};const handleVisibilidadChange=esPublica=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{esPublica}));};const crearBiblioteca=async()=>{if(!formData.nombre.trim()){setMensaje('‚ùå El nombre es obligatorio');return;}setCargando(true);try{const datosEnviar={nombre:formData.nombre,descripcion:formData.descripcion||\"\",esPublica:formData.esPublica,idUsuario:usuario.id};const response=await fetch(\"\".concat(API_URL,\"/api/bibliotecas/crear\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(datosEnviar)});if(response.ok){setMensaje('‚úÖ ¬°Biblioteca creada exitosamente!');setTimeout(()=>{cerrarModalCrear();cargarBibliotecas();},1500);}else{const error=await response.text();setMensaje(\"\\u274C \".concat(error));}}catch(error){console.error('Error:',error);setMensaje('‚ùå Error al crear la biblioteca');}finally{setCargando(false);}};const eliminarBiblioteca=async id=>{if(!window.confirm('¬øEst√°s seguro de eliminar esta biblioteca? Los libros no se eliminar√°n.')){return;}try{const response=await fetch(\"\".concat(API_URL,\"/api/bibliotecas/eliminar/\").concat(id),{method:'DELETE'});if(response.ok){alert('‚úÖ Biblioteca eliminada');cargarBibliotecas();cerrarExpandida();}else{alert('‚ùå Error al eliminar la biblioteca');}}catch(error){console.error('Error:',error);alert('‚ùå Error de conexi√≥n');}};const eliminarLibroDeBiblioteca=async(idBiblioteca,idLibro,e)=>{e.stopPropagation();if(!window.confirm('¬øQuieres eliminar este libro de la biblioteca?')){return;}try{const response=await fetch(\"\".concat(API_URL,\"/api/bibliotecas/\").concat(idBiblioteca,\"/eliminar-libro/\").concat(idLibro),{method:'DELETE'});if(response.ok){alert('‚úÖ Libro eliminado de la biblioteca');const bibliotecaActualizada=_objectSpread(_objectSpread({},bibliotecaExpandida),{},{libros:bibliotecaExpandida.libros.filter(libro=>libro.id!==idLibro)});setBibliotecaExpandida(bibliotecaActualizada);cargarBibliotecas();}else{alert('‚ùå Error al eliminar el libro');}}catch(error){console.error('Error:',error);alert('‚ùå Error de conexi√≥n');}};const handleImageError=(e,libroId)=>{e.target.style.display='none';const placeholder=e.target.nextSibling;if(placeholder){placeholder.classList.add('visible');}};return/*#__PURE__*/_jsx(\"div\",{className:\"page-wrapper day\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bibliotecas-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"biblioteca-card biblioteca-card-crear\",onClick:abrirModalCrear,children:[/*#__PURE__*/_jsx(\"div\",{className:\"icono-crear\",children:\"\\u2795\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Agregar Biblioteca\"})]}),Bibliotecas.map(biblioteca=>{var _biblioteca$libros;return/*#__PURE__*/_jsxs(\"div\",{className:\"biblioteca-card\",onClick:()=>expandirBiblioteca(biblioteca),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"biblioteca-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icono\",children:biblioteca.esPublica?'üåç':'üîí'}),/*#__PURE__*/_jsx(\"h3\",{children:biblioteca.nombre})]}),/*#__PURE__*/_jsx(\"p\",{className:\"biblioteca-descripcion\",children:biblioteca.descripcion||'Sin descripci√≥n'}),/*#__PURE__*/_jsx(\"div\",{className:\"mini-estanteria\",children:biblioteca.libros&&biblioteca.libros.length>0?biblioteca.libros.slice(0,6).map(libro=>/*#__PURE__*/_jsxs(\"div\",{className:\"libro-mini-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(API_URL,\"/api/libros/portada/\").concat(libro.id),alt:libro.titulo,className:\"mini-portada\",onError:e=>handleImageError(e,libro.id)}),/*#__PURE__*/_jsx(\"div\",{className:\"libro-placeholder \".concat(obtenerColorLibro(libro.id)),children:\"\\uD83D\\uDCD6\"})]},libro.id)):/*#__PURE__*/_jsx(\"span\",{className:\"sin-libros-mini\",children:\"Sin libros a\\xFAn\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"biblioteca-footer\",children:[/*#__PURE__*/_jsx(\"span\",{className:biblioteca.esPublica?\"badge-publica\":\"badge-privada\",children:biblioteca.esPublica?'P√∫blica':'Privada'}),/*#__PURE__*/_jsxs(\"span\",{className:\"cantidad\",children:[\"\\uD83D\\uDCD6 \",((_biblioteca$libros=biblioteca.libros)===null||_biblioteca$libros===void 0?void 0:_biblioteca$libros.length)||0]})]})]},biblioteca.id);})]}),mostrarModalCrear&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-crear-biblioteca\",onClick:cerrarModalCrear,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-crear-contenido\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCDA Crear Nueva Biblioteca\"}),mensaje&&/*#__PURE__*/_jsx(\"div\",{className:mensaje.includes('‚úÖ')?'mensaje-exito':'mensaje-error',children:mensaje}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nombre *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nombre\",value:formData.nombre,onChange:handleInputChange,placeholder:\"Mi Biblioteca de...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"descripcion\",value:formData.descripcion,onChange:handleInputChange,placeholder:\"Describe tu biblioteca...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Visibilidad\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"visibilidad-opciones\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"opcion-visibilidad \".concat(!formData.esPublica?'activa':''),onClick:()=>handleVisibilidadChange(false),children:[/*#__PURE__*/_jsx(\"div\",{className:\"icono-opcion\",children:\"\\uD83D\\uDD12\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Privada\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Solo t\\xFA puedes verla\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"opcion-visibilidad \".concat(formData.esPublica?'activa':''),onClick:()=>handleVisibilidadChange(true),children:[/*#__PURE__*/_jsx(\"div\",{className:\"icono-opcion\",children:\"\\uD83C\\uDF0D\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"P\\xFAblica\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Visible en el explorador\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-botones\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-modal btn-cancelar\",onClick:cerrarModalCrear,children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-modal btn-crear\",onClick:crearBiblioteca,disabled:cargando,children:cargando?'Creando...':'Crear Biblioteca'})]})]})}),bibliotecaExpandida&&/*#__PURE__*/_jsx(\"div\",{className:\"biblioteca-expandida\",onClick:cerrarExpandida,children:/*#__PURE__*/_jsxs(\"div\",{className:\"biblioteca-expandida-contenido\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"biblioteca-expandida-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"span\",{children:bibliotecaExpandida.esPublica?'üåç':'üîí'}),bibliotecaExpandida.nombre]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-cerrar\",onClick:cerrarExpandida,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"biblioteca-expandida-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"biblioteca-expandida-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Descripci\\xF3n:\"}),\" \",bibliotecaExpandida.descripcion||'Sin descripci√≥n']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Visibilidad:\"}),/*#__PURE__*/_jsx(\"span\",{className:bibliotecaExpandida.esPublica?\"badge-publica\":\"badge-privada\",style:{marginLeft:'0.5rem'},children:bibliotecaExpandida.esPublica?'P√∫blica':'Privada'})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total de libros:\"}),\" \",((_bibliotecaExpandida$=bibliotecaExpandida.libros)===null||_bibliotecaExpandida$===void 0?void 0:_bibliotecaExpandida$.length)||0]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-eliminar\",onClick:()=>eliminarBiblioteca(bibliotecaExpandida.id),children:\"\\uD83D\\uDDD1\\uFE0F Eliminar Biblioteca\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"estanteria-grande\",children:bibliotecaExpandida.libros&&bibliotecaExpandida.libros.length>0?bibliotecaExpandida.libros.map(libro=>/*#__PURE__*/_jsxs(\"div\",{className:\"libro-grande\",onClick:e=>abrirLibro(libro,e),children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-eliminar-libro\",onClick:e=>eliminarLibroDeBiblioteca(bibliotecaExpandida.id,libro.id,e),title:\"Eliminar de la biblioteca\",children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"libro-grande-portada-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(API_URL,\"/api/libros/portada/\").concat(libro.id),alt:libro.titulo,onError:e=>handleImageError(e,libro.id)}),/*#__PURE__*/_jsx(\"div\",{className:\"libro-placeholder-grande \".concat(obtenerColorLibro(libro.id)),children:\"\\uD83D\\uDCDA\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"libro-grande-titulo\",children:libro.titulo})]},libro.id)):/*#__PURE__*/_jsx(\"div\",{className:\"sin-libros-grande\",children:\"\\uD83D\\uDCDA Esta biblioteca a\\xFAn no tiene libros\"})})]})]})}),libroAbierto&&/*#__PURE__*/_jsx(LectorLibro,{url:\"\".concat(API_URL,\"/api/libros/pdf/\").concat(libroAbierto.id),onClose:cerrarLibro})]})});}export default Bibliotecas;","map":{"version":3,"names":["React","useState","useEffect","LectorLibro","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","Bibliotecas","_ref","_bibliotecaExpandida$","usuario","setBibliotecas","bibliotecaExpandida","setBibliotecaExpandida","libroAbierto","setLibroAbierto","mostrarModalCrear","setMostrarModalCrear","formData","setFormData","nombre","descripcion","esPublica","mensaje","setMensaje","cargando","setCargando","cargarBibliotecas","obtenerColorLibro","libroId","colores","concat","_data$","response","fetch","ok","Error","status","data","json","console","log","JSON","stringify","Array","isArray","misBibliotecas","filter","b","creador","id","error","expandirBiblioteca","biblioteca","cerrarExpandida","abrirLibro","libro","e","stopPropagation","cerrarLibro","abrirModalCrear","cerrarModalCrear","handleInputChange","name","value","target","prev","_objectSpread","handleVisibilidadChange","crearBiblioteca","trim","datosEnviar","idUsuario","method","headers","body","setTimeout","text","eliminarBiblioteca","window","confirm","alert","eliminarLibroDeBiblioteca","idBiblioteca","idLibro","bibliotecaActualizada","libros","handleImageError","style","display","placeholder","nextSibling","classList","add","className","children","onClick","map","_biblioteca$libros","length","slice","src","alt","titulo","onError","includes","type","onChange","disabled","marginLeft","title","url","onClose"],"sources":["C:/Users/Geo/Desktop/TFG/frontend/src/componentes/bibliotecas.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './bibliotecas.css';\r\nimport LectorLibro from './lectorlibro';\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8081';\r\n\r\nfunction Bibliotecas({ usuario }) {\r\n  const [Bibliotecas, setBibliotecas] = useState([]);\r\n  const [bibliotecaExpandida, setBibliotecaExpandida] = useState(null);\r\n  const [libroAbierto, setLibroAbierto] = useState(null);\r\n  const [mostrarModalCrear, setMostrarModalCrear] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    nombre: '',\r\n    descripcion: '',\r\n    esPublica: false\r\n  });\r\n  const [mensaje, setMensaje] = useState('');\r\n  const [cargando, setCargando] = useState(false);\r\n\r\n  useEffect(() => {\r\n    cargarBibliotecas();\r\n  }, []);\r\n\r\n  const obtenerColorLibro = (libroId) => {\r\n    const colores = 8;\r\n    return `color-${(libroId % colores) + 1}`;\r\n  };\r\n\r\n  const cargarBibliotecas = async () => {\r\n    try {\r\n      const response = await fetch(`${API_URL}/api/bibliotecas/listar`);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log(\"JSON completo:\", JSON.stringify(data, null, 2)); \r\n      console.log(\"Descripci√≥n de la primera biblioteca:\", data[0]?.descripcion);\r\n      \r\n      if (Array.isArray(data)) {\r\n        const misBibliotecas = data.filter(b => b.creador && b.creador.id === usuario.id);\r\n        setBibliotecas(misBibliotecas);\r\n      } else {\r\n        console.error('‚ùå El backend no devolvi√≥ un array:', data);\r\n        setBibliotecas([]);\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Error al cargar bibliotecas:', error);\r\n      setBibliotecas([]);\r\n    }\r\n  };\r\n\r\n  const expandirBiblioteca = (biblioteca) => {\r\n    setBibliotecaExpandida(biblioteca);\r\n  };\r\n\r\n  const cerrarExpandida = () => {\r\n    setBibliotecaExpandida(null);\r\n  };\r\n\r\n  const abrirLibro = (libro, e) => {\r\n    e.stopPropagation();\r\n    setLibroAbierto(libro);\r\n  };\r\n\r\n  const cerrarLibro = () => {\r\n    setLibroAbierto(null);\r\n  };\r\n\r\n  // CREAR BIBLIOTECA\r\n  const abrirModalCrear = () => {\r\n    setMostrarModalCrear(true);\r\n    setFormData({ nombre: '', descripcion: '', esPublica: false });\r\n    setMensaje('');\r\n  };\r\n\r\n  const cerrarModalCrear = () => {\r\n    setMostrarModalCrear(false);\r\n    setFormData({ nombre: '', descripcion: '', esPublica: false });\r\n    setMensaje('');\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n    setMensaje('');\r\n  };\r\n\r\n  const handleVisibilidadChange = (esPublica) => {\r\n    setFormData(prev => ({ ...prev, esPublica }));\r\n  };\r\n\r\n  const crearBiblioteca = async () => {\r\n    if (!formData.nombre.trim()) {\r\n      setMensaje('‚ùå El nombre es obligatorio');\r\n      return;\r\n    }\r\n\r\n    setCargando(true);\r\n    try {\r\n      const datosEnviar = {\r\n        nombre: formData.nombre,\r\n        descripcion: formData.descripcion || \"\",\r\n        esPublica: formData.esPublica,\r\n        idUsuario: usuario.id\r\n      };\r\n\r\n      const response = await fetch(`${API_URL}/api/bibliotecas/crear`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(datosEnviar)\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMensaje('‚úÖ ¬°Biblioteca creada exitosamente!');\r\n        setTimeout(() => {\r\n          cerrarModalCrear();\r\n          cargarBibliotecas();\r\n        }, 1500);\r\n      } else {\r\n        const error = await response.text();\r\n        setMensaje(`‚ùå ${error}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      setMensaje('‚ùå Error al crear la biblioteca');\r\n    } finally {\r\n      setCargando(false);\r\n    }\r\n  };\r\n\r\n  const eliminarBiblioteca = async (id) => {\r\n    if (!window.confirm('¬øEst√°s seguro de eliminar esta biblioteca? Los libros no se eliminar√°n.')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${API_URL}/api/bibliotecas/eliminar/${id}`, {\r\n        method: 'DELETE'\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert('‚úÖ Biblioteca eliminada');\r\n        cargarBibliotecas();\r\n        cerrarExpandida();\r\n      } else {\r\n        alert('‚ùå Error al eliminar la biblioteca');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      alert('‚ùå Error de conexi√≥n');\r\n    }\r\n  };\r\n\r\n  const eliminarLibroDeBiblioteca = async (idBiblioteca, idLibro, e) => {\r\n    e.stopPropagation();\r\n    \r\n    if (!window.confirm('¬øQuieres eliminar este libro de la biblioteca?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `${API_URL}/api/bibliotecas/${idBiblioteca}/eliminar-libro/${idLibro}`,\r\n        { method: 'DELETE' }\r\n      );\r\n\r\n      if (response.ok) {\r\n        alert('‚úÖ Libro eliminado de la biblioteca');\r\n        \r\n        const bibliotecaActualizada = {\r\n          ...bibliotecaExpandida,\r\n          libros: bibliotecaExpandida.libros.filter(libro => libro.id !== idLibro)\r\n        };\r\n        setBibliotecaExpandida(bibliotecaActualizada);\r\n        \r\n        cargarBibliotecas();\r\n      } else {\r\n        alert('‚ùå Error al eliminar el libro');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      alert('‚ùå Error de conexi√≥n');\r\n    }\r\n  };\r\n\r\n  const handleImageError = (e, libroId) => {\r\n    e.target.style.display = 'none';\r\n    const placeholder = e.target.nextSibling;\r\n    if (placeholder) {\r\n      placeholder.classList.add('visible');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"page-wrapper day\">\r\n      <div className=\"page-content\">\r\n        <div className=\"bibliotecas-container\">\r\n          {/* TARJETA PARA CREAR BIBLIOTECA */}\r\n          <div className=\"biblioteca-card biblioteca-card-crear\" onClick={abrirModalCrear}>\r\n            <div className=\"icono-crear\">‚ûï</div>\r\n            <h3>Agregar Biblioteca</h3>\r\n          </div>\r\n\r\n          {Bibliotecas.map((biblioteca) => (\r\n            <div \r\n              key={biblioteca.id} \r\n              className=\"biblioteca-card\"\r\n              onClick={() => expandirBiblioteca(biblioteca)}\r\n            >\r\n              <div className=\"biblioteca-header\">\r\n                <span className=\"icono\">{biblioteca.esPublica ? 'üåç' : 'üîí'}</span>\r\n                <h3>{biblioteca.nombre}</h3>\r\n              </div>\r\n\r\n              <p className=\"biblioteca-descripcion\">\r\n                {biblioteca.descripcion|| 'Sin descripci√≥n'}\r\n              </p>\r\n\r\n              <div className=\"mini-estanteria\">\r\n                {biblioteca.libros && biblioteca.libros.length > 0 ? (\r\n                  biblioteca.libros.slice(0, 6).map((libro) => (\r\n                    <div key={libro.id} className=\"libro-mini-wrapper\">\r\n                      <img \r\n                        src={`${API_URL}/api/libros/portada/${libro.id}`}\r\n                        alt={libro.titulo}\r\n                        className=\"mini-portada\"\r\n                        onError={(e) => handleImageError(e, libro.id)}\r\n                      />\r\n                      <div className={`libro-placeholder ${obtenerColorLibro(libro.id)}`}>\r\n                        üìñ\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                ) : (\r\n                  <span className=\"sin-libros-mini\">Sin libros a√∫n</span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"biblioteca-footer\">\r\n                <span className={biblioteca.esPublica ? \"badge-publica\" : \"badge-privada\"}>\r\n                  {biblioteca.esPublica ? 'P√∫blica' : 'Privada'}\r\n                </span>\r\n\r\n                <span className=\"cantidad\">\r\n                  üìñ {biblioteca.libros?.length || 0}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* MODAL CREAR BIBLIOTECA */}\r\n        {mostrarModalCrear && (\r\n          <div className=\"modal-crear-biblioteca\" onClick={cerrarModalCrear}>\r\n            <div className=\"modal-crear-contenido\" onClick={(e) => e.stopPropagation()}>\r\n              <h2>üìö Crear Nueva Biblioteca</h2>\r\n\r\n              {mensaje && (\r\n                <div className={mensaje.includes('‚úÖ') ? 'mensaje-exito' : 'mensaje-error'}>\r\n                  {mensaje}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"form-group\">\r\n                <label>Nombre *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"nombre\"\r\n                  value={formData.nombre}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Mi Biblioteca de...\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Descripci√≥n</label>\r\n                <textarea\r\n                  name=\"descripcion\"\r\n                  value={formData.descripcion}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Describe tu biblioteca...\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Visibilidad</label>\r\n                <div className=\"visibilidad-opciones\">\r\n                  <div \r\n                    className={`opcion-visibilidad ${!formData.esPublica ? 'activa' : ''}`}\r\n                    onClick={() => handleVisibilidadChange(false)}\r\n                  >\r\n                    <div className=\"icono-opcion\">üîí</div>\r\n                    <h3>Privada</h3>\r\n                    <p>Solo t√∫ puedes verla</p>\r\n                  </div>\r\n\r\n                  <div \r\n                    className={`opcion-visibilidad ${formData.esPublica ? 'activa' : ''}`}\r\n                    onClick={() => handleVisibilidadChange(true)}\r\n                  >\r\n                    <div className=\"icono-opcion\">üåç</div>\r\n                    <h3>P√∫blica</h3>\r\n                    <p>Visible en el explorador</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"modal-botones\">\r\n                <button className=\"btn-modal btn-cancelar\" onClick={cerrarModalCrear}>\r\n                  Cancelar\r\n                </button>\r\n                <button \r\n                  className=\"btn-modal btn-crear\" \r\n                  onClick={crearBiblioteca}\r\n                  disabled={cargando}\r\n                >\r\n                  {cargando ? 'Creando...' : 'Crear Biblioteca'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* VISTA EXPANDIDA */}\r\n        {bibliotecaExpandida && (\r\n          <div className=\"biblioteca-expandida\" onClick={cerrarExpandida}>\r\n            <div className=\"biblioteca-expandida-contenido\" onClick={(e) => e.stopPropagation()}>\r\n              <div className=\"biblioteca-expandida-header\">\r\n                <h2>\r\n                  <span>{bibliotecaExpandida.esPublica ? 'üåç' : 'üîí'}</span>\r\n                  {bibliotecaExpandida.nombre}\r\n                </h2>\r\n                <button className=\"btn-cerrar\" onClick={cerrarExpandida}>√ó</button>\r\n              </div>\r\n\r\n              <div className=\"biblioteca-expandida-body\">\r\n                <div className=\"biblioteca-expandida-info\">\r\n                  <p><strong>Descripci√≥n:</strong> {bibliotecaExpandida.descripcion || 'Sin descripci√≥n'}</p>\r\n                  <p>\r\n                    <strong>Visibilidad:</strong> \r\n                    <span className={bibliotecaExpandida.esPublica ? \"badge-publica\" : \"badge-privada\"} style={{marginLeft: '0.5rem'}}>\r\n                      {bibliotecaExpandida.esPublica ? 'P√∫blica' : 'Privada'}\r\n                    </span>\r\n                  </p>\r\n                  <p><strong>Total de libros:</strong> {bibliotecaExpandida.libros?.length || 0}</p>\r\n                  \r\n                  <button \r\n                    className=\"btn-eliminar\"\r\n                    onClick={() => eliminarBiblioteca(bibliotecaExpandida.id)}\r\n                  >\r\n                    üóëÔ∏è Eliminar Biblioteca\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"estanteria-grande\">\r\n                  {bibliotecaExpandida.libros && bibliotecaExpandida.libros.length > 0 ? (\r\n                    bibliotecaExpandida.libros.map((libro) => (\r\n                      <div \r\n                        key={libro.id} \r\n                        className=\"libro-grande\"\r\n                        onClick={(e) => abrirLibro(libro, e)}\r\n                      >\r\n                        <button \r\n                          className=\"btn-eliminar-libro\"\r\n                          onClick={(e) => eliminarLibroDeBiblioteca(bibliotecaExpandida.id, libro.id, e)}\r\n                          title=\"Eliminar de la biblioteca\"\r\n                        >\r\n                          √ó\r\n                        </button>\r\n                        <div className=\"libro-grande-portada-wrapper\">\r\n                          <img \r\n                            src={`${API_URL}/api/libros/portada/${libro.id}`}\r\n                            alt={libro.titulo}\r\n                            onError={(e) => handleImageError(e, libro.id)}\r\n                          />\r\n                          <div className={`libro-placeholder-grande ${obtenerColorLibro(libro.id)}`}>\r\n                            üìö\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"libro-grande-titulo\">{libro.titulo}</div>\r\n                      </div>\r\n                    ))\r\n                  ) : (\r\n                    <div className=\"sin-libros-grande\">\r\n                      üìö Esta biblioteca a√∫n no tiene libros\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* LECTOR DE PDF */}\r\n        {libroAbierto && (\r\n          <LectorLibro \r\n            url={`${API_URL}/api/libros/pdf/${libroAbierto.id}`}\r\n            onClose={cerrarLibro}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Bibliotecas;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}