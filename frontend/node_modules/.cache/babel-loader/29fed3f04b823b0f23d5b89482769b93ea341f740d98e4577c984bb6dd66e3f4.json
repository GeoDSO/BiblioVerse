{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Geo\\\\Desktop\\\\TFG\\\\frontend\\\\src\\\\componentes\\\\bibliotecas.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './bibliotecas.css';\nimport LectorLibro from './lectorlibro';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8081';\nfunction Bibliotecas({\n  usuario\n}) {\n  _s();\n  var _bibliotecaExpandida$;\n  const [Bibliotecas, setBibliotecas] = useState([]);\n  const [bibliotecaExpandida, setBibliotecaExpandida] = useState(null);\n  const [libroAbierto, setLibroAbierto] = useState(null);\n  const [mostrarModalCrear, setMostrarModalCrear] = useState(false);\n  const [formData, setFormData] = useState({\n    nombre: '',\n    descripcion: '',\n    esPublica: false\n  });\n  const [mensaje, setMensaje] = useState('');\n  const [cargando, setCargando] = useState(false);\n  useEffect(() => {\n    cargarBibliotecas();\n  }, []);\n  const obtenerColorLibro = libroId => {\n    const colores = 8;\n    return `color-${libroId % colores + 1}`;\n  };\n  const cargarBibliotecas = async () => {\n    try {\n      var _data$;\n      const response = await fetch(`${API_URL}/api/bibliotecas/listar`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log(\"JSON completo:\", JSON.stringify(data, null, 2));\n      console.log(\"Descripci√≥n de la primera biblioteca:\", (_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.descripcion);\n      if (Array.isArray(data)) {\n        const misBibliotecas = data.filter(b => b.creador && b.creador.id === usuario.id);\n        setBibliotecas(misBibliotecas);\n      } else {\n        console.error('‚ùå El backend no devolvi√≥ un array:', data);\n        setBibliotecas([]);\n      }\n    } catch (error) {\n      console.error('‚ùå Error al cargar bibliotecas:', error);\n      setBibliotecas([]);\n    }\n  };\n  const expandirBiblioteca = biblioteca => {\n    setBibliotecaExpandida(biblioteca);\n  };\n  const cerrarExpandida = () => {\n    setBibliotecaExpandida(null);\n  };\n  const abrirLibro = (libro, e) => {\n    e.stopPropagation();\n    setLibroAbierto(libro);\n  };\n  const cerrarLibro = () => {\n    setLibroAbierto(null);\n  };\n\n  // CREAR BIBLIOTECA\n  const abrirModalCrear = () => {\n    setMostrarModalCrear(true);\n    setFormData({\n      nombre: '',\n      descripcion: '',\n      esPublica: false\n    });\n    setMensaje('');\n  };\n  const cerrarModalCrear = () => {\n    setMostrarModalCrear(false);\n    setFormData({\n      nombre: '',\n      descripcion: '',\n      esPublica: false\n    });\n    setMensaje('');\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    setMensaje('');\n  };\n  const handleVisibilidadChange = esPublica => {\n    setFormData(prev => ({\n      ...prev,\n      esPublica\n    }));\n  };\n  const crearBiblioteca = async () => {\n    if (!formData.nombre.trim()) {\n      setMensaje('‚ùå El nombre es obligatorio');\n      return;\n    }\n    setCargando(true);\n    try {\n      const datosEnviar = {\n        nombre: formData.nombre,\n        descripcion: formData.descripcion || \"\",\n        esPublica: formData.esPublica,\n        idUsuario: usuario.id\n      };\n      const response = await fetch(`${API_URL}/api/bibliotecas/crear`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(datosEnviar)\n      });\n      if (response.ok) {\n        setMensaje('‚úÖ ¬°Biblioteca creada exitosamente!');\n        setTimeout(() => {\n          cerrarModalCrear();\n          cargarBibliotecas();\n        }, 1500);\n      } else {\n        const error = await response.text();\n        setMensaje(`‚ùå ${error}`);\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      setMensaje('‚ùå Error al crear la biblioteca');\n    } finally {\n      setCargando(false);\n    }\n  };\n  const eliminarBiblioteca = async id => {\n    if (!window.confirm('¬øEst√°s seguro de eliminar esta biblioteca? Los libros no se eliminar√°n.')) {\n      return;\n    }\n    try {\n      const response = await fetch(`${API_URL}/api/bibliotecas/eliminar/${id}`, {\n        method: 'DELETE'\n      });\n      if (response.ok) {\n        alert('‚úÖ Biblioteca eliminada');\n        cargarBibliotecas();\n        cerrarExpandida();\n      } else {\n        alert('‚ùå Error al eliminar la biblioteca');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('‚ùå Error de conexi√≥n');\n    }\n  };\n  const eliminarLibroDeBiblioteca = async (idBiblioteca, idLibro, e) => {\n    e.stopPropagation();\n    if (!window.confirm('¬øQuieres eliminar este libro de la biblioteca?')) {\n      return;\n    }\n    try {\n      const response = await fetch(`${API_URL}/api/bibliotecas/${idBiblioteca}/eliminar-libro/${idLibro}`, {\n        method: 'DELETE'\n      });\n      if (response.ok) {\n        alert('‚úÖ Libro eliminado de la biblioteca');\n        const bibliotecaActualizada = {\n          ...bibliotecaExpandida,\n          libros: bibliotecaExpandida.libros.filter(libro => libro.id !== idLibro)\n        };\n        setBibliotecaExpandida(bibliotecaActualizada);\n        cargarBibliotecas();\n      } else {\n        alert('‚ùå Error al eliminar el libro');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('‚ùå Error de conexi√≥n');\n    }\n  };\n  const handleImageError = (e, libroId) => {\n    e.target.style.display = 'none';\n    const placeholder = e.target.nextSibling;\n    if (placeholder) {\n      placeholder.classList.add('visible');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-wrapper day\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bibliotecas-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"biblioteca-card biblioteca-card-crear\",\n          onClick: abrirModalCrear,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icono-crear\",\n            children: \"\\u2795\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Agregar Biblioteca\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), Bibliotecas.map(biblioteca => {\n          var _biblioteca$libros;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"biblioteca-card\",\n            onClick: () => expandirBiblioteca(biblioteca),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"biblioteca-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"icono\",\n                children: biblioteca.esPublica ? 'üåç' : 'üîí'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: biblioteca.nombre\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"biblioteca-descripcion\",\n              children: biblioteca.descripcion || 'Sin descripci√≥n'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mini-estanteria\",\n              children: biblioteca.libros && biblioteca.libros.length > 0 ? biblioteca.libros.slice(0, 6).map(libro => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"libro-mini-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: libro.rutaPortada,\n                  alt: libro.titulo,\n                  className: \"mini-portada\",\n                  onError: e => handleImageError(e, libro.id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `libro-placeholder ${obtenerColorLibro(libro.id)}`,\n                  children: \"\\uD83D\\uDCD6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 23\n                }, this)]\n              }, libro.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 21\n              }, this)) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"sin-libros-mini\",\n                children: \"Sin libros a\\xFAn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"biblioteca-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: biblioteca.esPublica ? \"badge-publica\" : \"badge-privada\",\n                children: biblioteca.esPublica ? 'P√∫blica' : 'Privada'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"cantidad\",\n                children: [\"\\uD83D\\uDCD6 \", ((_biblioteca$libros = biblioteca.libros) === null || _biblioteca$libros === void 0 ? void 0 : _biblioteca$libros.length) || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this)]\n          }, biblioteca.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), mostrarModalCrear && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-crear-biblioteca\",\n        onClick: cerrarModalCrear,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-crear-contenido\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uD83D\\uDCDA Crear Nueva Biblioteca\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this), mensaje && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: mensaje.includes('‚úÖ') ? 'mensaje-exito' : 'mensaje-error',\n            children: mensaje\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Nombre *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"nombre\",\n              value: formData.nombre,\n              onChange: handleInputChange,\n              placeholder: \"Mi Biblioteca de...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Descripci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"descripcion\",\n              value: formData.descripcion,\n              onChange: handleInputChange,\n              placeholder: \"Describe tu biblioteca...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Visibilidad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"visibilidad-opciones\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `opcion-visibilidad ${!formData.esPublica ? 'activa' : ''}`,\n                onClick: () => handleVisibilidadChange(false),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"icono-opcion\",\n                  children: \"\\uD83D\\uDD12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Privada\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Solo t\\xFA puedes verla\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `opcion-visibilidad ${formData.esPublica ? 'activa' : ''}`,\n                onClick: () => handleVisibilidadChange(true),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"icono-opcion\",\n                  children: \"\\uD83C\\uDF0D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"P\\xFAblica\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Visible en el explorador\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-botones\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-modal btn-cancelar\",\n              onClick: cerrarModalCrear,\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-modal btn-crear\",\n              onClick: crearBiblioteca,\n              disabled: cargando,\n              children: cargando ? 'Creando...' : 'Crear Biblioteca'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this), bibliotecaExpandida && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"biblioteca-expandida\",\n        onClick: cerrarExpandida,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"biblioteca-expandida-contenido\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"biblioteca-expandida-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: bibliotecaExpandida.esPublica ? 'üåç' : 'üîí'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this), bibliotecaExpandida.nombre]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-cerrar\",\n              onClick: cerrarExpandida,\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"biblioteca-expandida-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"biblioteca-expandida-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Descripci\\xF3n:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 22\n                }, this), \" \", bibliotecaExpandida.descripcion || 'Sin descripci√≥n']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Visibilidad:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: bibliotecaExpandida.esPublica ? \"badge-publica\" : \"badge-privada\",\n                  style: {\n                    marginLeft: '0.5rem'\n                  },\n                  children: bibliotecaExpandida.esPublica ? 'P√∫blica' : 'Privada'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Total de libros:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 22\n                }, this), \" \", ((_bibliotecaExpandida$ = bibliotecaExpandida.libros) === null || _bibliotecaExpandida$ === void 0 ? void 0 : _bibliotecaExpandida$.length) || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-eliminar\",\n                onClick: () => eliminarBiblioteca(bibliotecaExpandida.id),\n                children: \"\\uD83D\\uDDD1\\uFE0F Eliminar Biblioteca\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"estanteria-grande\",\n              children: bibliotecaExpandida.libros && bibliotecaExpandida.libros.length > 0 ? bibliotecaExpandida.libros.map(libro => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"libro-grande\",\n                onClick: e => abrirLibro(libro, e),\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-eliminar-libro\",\n                  onClick: e => eliminarLibroDeBiblioteca(bibliotecaExpandida.id, libro.id, e),\n                  title: \"Eliminar de la biblioteca\",\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"libro-grande-portada-wrapper\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: `${API_URL}/api/libros/portada/${libro.id}`,\n                    alt: libro.titulo,\n                    onError: e => handleImageError(e, libro.id)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `libro-placeholder-grande ${obtenerColorLibro(libro.id)}`,\n                    children: \"\\uD83D\\uDCDA\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"libro-grande-titulo\",\n                  children: libro.titulo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 25\n                }, this)]\n              }, libro.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 23\n              }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sin-libros-grande\",\n                children: \"\\uD83D\\uDCDA Esta biblioteca a\\xFAn no tiene libros\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }, this), libroAbierto && /*#__PURE__*/_jsxDEV(LectorLibro, {\n        url: `${API_URL}/api/libros/pdf/${libroAbierto.id}`,\n        onClose: cerrarLibro\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 197,\n    columnNumber: 5\n  }, this);\n}\n_s(Bibliotecas, \"j2BdP15vcwEGDatNfYwVOTd2MkE=\");\n_c = Bibliotecas;\nexport default Bibliotecas;\nvar _c;\n$RefreshReg$(_c, \"Bibliotecas\");","map":{"version":3,"names":["React","useState","useEffect","LectorLibro","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","Bibliotecas","usuario","_s","_bibliotecaExpandida$","setBibliotecas","bibliotecaExpandida","setBibliotecaExpandida","libroAbierto","setLibroAbierto","mostrarModalCrear","setMostrarModalCrear","formData","setFormData","nombre","descripcion","esPublica","mensaje","setMensaje","cargando","setCargando","cargarBibliotecas","obtenerColorLibro","libroId","colores","_data$","response","fetch","ok","Error","status","data","json","console","log","JSON","stringify","Array","isArray","misBibliotecas","filter","b","creador","id","error","expandirBiblioteca","biblioteca","cerrarExpandida","abrirLibro","libro","e","stopPropagation","cerrarLibro","abrirModalCrear","cerrarModalCrear","handleInputChange","name","value","target","prev","handleVisibilidadChange","crearBiblioteca","trim","datosEnviar","idUsuario","method","headers","body","setTimeout","text","eliminarBiblioteca","window","confirm","alert","eliminarLibroDeBiblioteca","idBiblioteca","idLibro","bibliotecaActualizada","libros","handleImageError","style","display","placeholder","nextSibling","classList","add","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","_biblioteca$libros","length","slice","src","rutaPortada","alt","titulo","onError","includes","type","onChange","disabled","marginLeft","title","url","onClose","_c","$RefreshReg$"],"sources":["C:/Users/Geo/Desktop/TFG/frontend/src/componentes/bibliotecas.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './bibliotecas.css';\r\nimport LectorLibro from './lectorlibro';\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8081';\r\n\r\nfunction Bibliotecas({ usuario }) {\r\n  const [Bibliotecas, setBibliotecas] = useState([]);\r\n  const [bibliotecaExpandida, setBibliotecaExpandida] = useState(null);\r\n  const [libroAbierto, setLibroAbierto] = useState(null);\r\n  const [mostrarModalCrear, setMostrarModalCrear] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    nombre: '',\r\n    descripcion: '',\r\n    esPublica: false\r\n  });\r\n  const [mensaje, setMensaje] = useState('');\r\n  const [cargando, setCargando] = useState(false);\r\n\r\n  useEffect(() => {\r\n    cargarBibliotecas();\r\n  }, []);\r\n\r\n  const obtenerColorLibro = (libroId) => {\r\n    const colores = 8;\r\n    return `color-${(libroId % colores) + 1}`;\r\n  };\r\n\r\n  const cargarBibliotecas = async () => {\r\n    try {\r\n      const response = await fetch(`${API_URL}/api/bibliotecas/listar`);\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log(\"JSON completo:\", JSON.stringify(data, null, 2)); \r\n      console.log(\"Descripci√≥n de la primera biblioteca:\", data[0]?.descripcion);\r\n      \r\n      if (Array.isArray(data)) {\r\n        const misBibliotecas = data.filter(b => b.creador && b.creador.id === usuario.id);\r\n        setBibliotecas(misBibliotecas);\r\n      } else {\r\n        console.error('‚ùå El backend no devolvi√≥ un array:', data);\r\n        setBibliotecas([]);\r\n      }\r\n      \r\n    } catch (error) {\r\n      console.error('‚ùå Error al cargar bibliotecas:', error);\r\n      setBibliotecas([]);\r\n    }\r\n  };\r\n\r\n  const expandirBiblioteca = (biblioteca) => {\r\n    setBibliotecaExpandida(biblioteca);\r\n  };\r\n\r\n  const cerrarExpandida = () => {\r\n    setBibliotecaExpandida(null);\r\n  };\r\n\r\n  const abrirLibro = (libro, e) => {\r\n    e.stopPropagation();\r\n    setLibroAbierto(libro);\r\n  };\r\n\r\n  const cerrarLibro = () => {\r\n    setLibroAbierto(null);\r\n  };\r\n\r\n  // CREAR BIBLIOTECA\r\n  const abrirModalCrear = () => {\r\n    setMostrarModalCrear(true);\r\n    setFormData({ nombre: '', descripcion: '', esPublica: false });\r\n    setMensaje('');\r\n  };\r\n\r\n  const cerrarModalCrear = () => {\r\n    setMostrarModalCrear(false);\r\n    setFormData({ nombre: '', descripcion: '', esPublica: false });\r\n    setMensaje('');\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n    setMensaje('');\r\n  };\r\n\r\n  const handleVisibilidadChange = (esPublica) => {\r\n    setFormData(prev => ({ ...prev, esPublica }));\r\n  };\r\n\r\n  const crearBiblioteca = async () => {\r\n    if (!formData.nombre.trim()) {\r\n      setMensaje('‚ùå El nombre es obligatorio');\r\n      return;\r\n    }\r\n\r\n    setCargando(true);\r\n    try {\r\n      const datosEnviar = {\r\n        nombre: formData.nombre,\r\n        descripcion: formData.descripcion || \"\",\r\n        esPublica: formData.esPublica,\r\n        idUsuario: usuario.id\r\n      };\r\n\r\n      const response = await fetch(`${API_URL}/api/bibliotecas/crear`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(datosEnviar)\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMensaje('‚úÖ ¬°Biblioteca creada exitosamente!');\r\n        setTimeout(() => {\r\n          cerrarModalCrear();\r\n          cargarBibliotecas();\r\n        }, 1500);\r\n      } else {\r\n        const error = await response.text();\r\n        setMensaje(`‚ùå ${error}`);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      setMensaje('‚ùå Error al crear la biblioteca');\r\n    } finally {\r\n      setCargando(false);\r\n    }\r\n  };\r\n\r\n  const eliminarBiblioteca = async (id) => {\r\n    if (!window.confirm('¬øEst√°s seguro de eliminar esta biblioteca? Los libros no se eliminar√°n.')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`${API_URL}/api/bibliotecas/eliminar/${id}`, {\r\n        method: 'DELETE'\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert('‚úÖ Biblioteca eliminada');\r\n        cargarBibliotecas();\r\n        cerrarExpandida();\r\n      } else {\r\n        alert('‚ùå Error al eliminar la biblioteca');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      alert('‚ùå Error de conexi√≥n');\r\n    }\r\n  };\r\n\r\n  const eliminarLibroDeBiblioteca = async (idBiblioteca, idLibro, e) => {\r\n    e.stopPropagation();\r\n    \r\n    if (!window.confirm('¬øQuieres eliminar este libro de la biblioteca?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(\r\n        `${API_URL}/api/bibliotecas/${idBiblioteca}/eliminar-libro/${idLibro}`,\r\n        { method: 'DELETE' }\r\n      );\r\n\r\n      if (response.ok) {\r\n        alert('‚úÖ Libro eliminado de la biblioteca');\r\n        \r\n        const bibliotecaActualizada = {\r\n          ...bibliotecaExpandida,\r\n          libros: bibliotecaExpandida.libros.filter(libro => libro.id !== idLibro)\r\n        };\r\n        setBibliotecaExpandida(bibliotecaActualizada);\r\n        \r\n        cargarBibliotecas();\r\n      } else {\r\n        alert('‚ùå Error al eliminar el libro');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      alert('‚ùå Error de conexi√≥n');\r\n    }\r\n  };\r\n\r\n  const handleImageError = (e, libroId) => {\r\n    e.target.style.display = 'none';\r\n    const placeholder = e.target.nextSibling;\r\n    if (placeholder) {\r\n      placeholder.classList.add('visible');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"page-wrapper day\">\r\n      <div className=\"page-content\">\r\n        <div className=\"bibliotecas-container\">\r\n          {/* TARJETA PARA CREAR BIBLIOTECA */}\r\n          <div className=\"biblioteca-card biblioteca-card-crear\" onClick={abrirModalCrear}>\r\n            <div className=\"icono-crear\">‚ûï</div>\r\n            <h3>Agregar Biblioteca</h3>\r\n          </div>\r\n\r\n          {Bibliotecas.map((biblioteca) => (\r\n            <div \r\n              key={biblioteca.id} \r\n              className=\"biblioteca-card\"\r\n              onClick={() => expandirBiblioteca(biblioteca)}\r\n            >\r\n              <div className=\"biblioteca-header\">\r\n                <span className=\"icono\">{biblioteca.esPublica ? 'üåç' : 'üîí'}</span>\r\n                <h3>{biblioteca.nombre}</h3>\r\n              </div>\r\n\r\n              <p className=\"biblioteca-descripcion\">\r\n                {biblioteca.descripcion|| 'Sin descripci√≥n'}\r\n              </p>\r\n\r\n              <div className=\"mini-estanteria\">\r\n                {biblioteca.libros && biblioteca.libros.length > 0 ? (\r\n                  biblioteca.libros.slice(0, 6).map((libro) => (\r\n                    <div key={libro.id} className=\"libro-mini-wrapper\">\r\n                      <img \r\n                        src={libro.rutaPortada} \r\n                        alt={libro.titulo}\r\n                        className=\"mini-portada\"\r\n                        onError={(e) => handleImageError(e, libro.id)}\r\n                      />\r\n                      <div className={`libro-placeholder ${obtenerColorLibro(libro.id)}`}>\r\n                        üìñ\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                ) : (\r\n                  <span className=\"sin-libros-mini\">Sin libros a√∫n</span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"biblioteca-footer\">\r\n                <span className={biblioteca.esPublica ? \"badge-publica\" : \"badge-privada\"}>\r\n                  {biblioteca.esPublica ? 'P√∫blica' : 'Privada'}\r\n                </span>\r\n\r\n                <span className=\"cantidad\">\r\n                  üìñ {biblioteca.libros?.length || 0}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* MODAL CREAR BIBLIOTECA */}\r\n        {mostrarModalCrear && (\r\n          <div className=\"modal-crear-biblioteca\" onClick={cerrarModalCrear}>\r\n            <div className=\"modal-crear-contenido\" onClick={(e) => e.stopPropagation()}>\r\n              <h2>üìö Crear Nueva Biblioteca</h2>\r\n\r\n              {mensaje && (\r\n                <div className={mensaje.includes('‚úÖ') ? 'mensaje-exito' : 'mensaje-error'}>\r\n                  {mensaje}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"form-group\">\r\n                <label>Nombre *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"nombre\"\r\n                  value={formData.nombre}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Mi Biblioteca de...\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Descripci√≥n</label>\r\n                <textarea\r\n                  name=\"descripcion\"\r\n                  value={formData.descripcion}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Describe tu biblioteca...\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Visibilidad</label>\r\n                <div className=\"visibilidad-opciones\">\r\n                  <div \r\n                    className={`opcion-visibilidad ${!formData.esPublica ? 'activa' : ''}`}\r\n                    onClick={() => handleVisibilidadChange(false)}\r\n                  >\r\n                    <div className=\"icono-opcion\">üîí</div>\r\n                    <h3>Privada</h3>\r\n                    <p>Solo t√∫ puedes verla</p>\r\n                  </div>\r\n\r\n                  <div \r\n                    className={`opcion-visibilidad ${formData.esPublica ? 'activa' : ''}`}\r\n                    onClick={() => handleVisibilidadChange(true)}\r\n                  >\r\n                    <div className=\"icono-opcion\">üåç</div>\r\n                    <h3>P√∫blica</h3>\r\n                    <p>Visible en el explorador</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"modal-botones\">\r\n                <button className=\"btn-modal btn-cancelar\" onClick={cerrarModalCrear}>\r\n                  Cancelar\r\n                </button>\r\n                <button \r\n                  className=\"btn-modal btn-crear\" \r\n                  onClick={crearBiblioteca}\r\n                  disabled={cargando}\r\n                >\r\n                  {cargando ? 'Creando...' : 'Crear Biblioteca'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* VISTA EXPANDIDA */}\r\n        {bibliotecaExpandida && (\r\n          <div className=\"biblioteca-expandida\" onClick={cerrarExpandida}>\r\n            <div className=\"biblioteca-expandida-contenido\" onClick={(e) => e.stopPropagation()}>\r\n              <div className=\"biblioteca-expandida-header\">\r\n                <h2>\r\n                  <span>{bibliotecaExpandida.esPublica ? 'üåç' : 'üîí'}</span>\r\n                  {bibliotecaExpandida.nombre}\r\n                </h2>\r\n                <button className=\"btn-cerrar\" onClick={cerrarExpandida}>√ó</button>\r\n              </div>\r\n\r\n              <div className=\"biblioteca-expandida-body\">\r\n                <div className=\"biblioteca-expandida-info\">\r\n                  <p><strong>Descripci√≥n:</strong> {bibliotecaExpandida.descripcion || 'Sin descripci√≥n'}</p>\r\n                  <p>\r\n                    <strong>Visibilidad:</strong> \r\n                    <span className={bibliotecaExpandida.esPublica ? \"badge-publica\" : \"badge-privada\"} style={{marginLeft: '0.5rem'}}>\r\n                      {bibliotecaExpandida.esPublica ? 'P√∫blica' : 'Privada'}\r\n                    </span>\r\n                  </p>\r\n                  <p><strong>Total de libros:</strong> {bibliotecaExpandida.libros?.length || 0}</p>\r\n                  \r\n                  <button \r\n                    className=\"btn-eliminar\"\r\n                    onClick={() => eliminarBiblioteca(bibliotecaExpandida.id)}\r\n                  >\r\n                    üóëÔ∏è Eliminar Biblioteca\r\n                  </button>\r\n                </div>\r\n\r\n                <div className=\"estanteria-grande\">\r\n                  {bibliotecaExpandida.libros && bibliotecaExpandida.libros.length > 0 ? (\r\n                    bibliotecaExpandida.libros.map((libro) => (\r\n                      <div \r\n                        key={libro.id} \r\n                        className=\"libro-grande\"\r\n                        onClick={(e) => abrirLibro(libro, e)}\r\n                      >\r\n                        <button \r\n                          className=\"btn-eliminar-libro\"\r\n                          onClick={(e) => eliminarLibroDeBiblioteca(bibliotecaExpandida.id, libro.id, e)}\r\n                          title=\"Eliminar de la biblioteca\"\r\n                        >\r\n                          √ó\r\n                        </button>\r\n                        <div className=\"libro-grande-portada-wrapper\">\r\n                          <img \r\n                            src={`${API_URL}/api/libros/portada/${libro.id}`}\r\n                            alt={libro.titulo}\r\n                            onError={(e) => handleImageError(e, libro.id)}\r\n                          />\r\n                          <div className={`libro-placeholder-grande ${obtenerColorLibro(libro.id)}`}>\r\n                            üìö\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"libro-grande-titulo\">{libro.titulo}</div>\r\n                      </div>\r\n                    ))\r\n                  ) : (\r\n                    <div className=\"sin-libros-grande\">\r\n                      üìö Esta biblioteca a√∫n no tiene libros\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* LECTOR DE PDF */}\r\n        {libroAbierto && (\r\n          <LectorLibro \r\n            url={`${API_URL}/api/libros/pdf/${libroAbierto.id}`}\r\n            onClose={cerrarLibro}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Bibliotecas;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAO,mBAAmB;AAC1B,OAAOC,WAAW,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AACxC,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAExE,SAASC,WAAWA,CAAC;EAAEC;AAAQ,CAAC,EAAE;EAAAC,EAAA;EAAA,IAAAC,qBAAA;EAChC,MAAM,CAACH,WAAW,EAAEI,cAAc,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACc,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACpE,MAAM,CAACgB,YAAY,EAAEC,eAAe,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACkB,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EACjE,MAAM,CAACoB,QAAQ,EAAEC,WAAW,CAAC,GAAGrB,QAAQ,CAAC;IACvCsB,MAAM,EAAE,EAAE;IACVC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAE;EACb,CAAC,CAAC;EACF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC2B,QAAQ,EAAEC,WAAW,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EAE/CC,SAAS,CAAC,MAAM;IACd4B,iBAAiB,CAAC,CAAC;EACrB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,iBAAiB,GAAIC,OAAO,IAAK;IACrC,MAAMC,OAAO,GAAG,CAAC;IACjB,OAAO,SAAUD,OAAO,GAAGC,OAAO,GAAI,CAAC,EAAE;EAC3C,CAAC;EAED,MAAMH,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI;MAAA,IAAAI,MAAA;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAG9B,OAAO,yBAAyB,CAAC;MAEjE,IAAI,CAAC6B,QAAQ,CAACE,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuBH,QAAQ,CAACI,MAAM,EAAE,CAAC;MAC3D;MAEA,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;MAClCC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;MAC5DE,OAAO,CAACC,GAAG,CAAC,uCAAuC,GAAAT,MAAA,GAAEM,IAAI,CAAC,CAAC,CAAC,cAAAN,MAAA,uBAAPA,MAAA,CAASV,WAAW,CAAC;MAE1E,IAAIsB,KAAK,CAACC,OAAO,CAACP,IAAI,CAAC,EAAE;QACvB,MAAMQ,cAAc,GAAGR,IAAI,CAACS,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,OAAO,IAAID,CAAC,CAACC,OAAO,CAACC,EAAE,KAAKzC,OAAO,CAACyC,EAAE,CAAC;QACjFtC,cAAc,CAACkC,cAAc,CAAC;MAChC,CAAC,MAAM;QACLN,OAAO,CAACW,KAAK,CAAC,oCAAoC,EAAEb,IAAI,CAAC;QACzD1B,cAAc,CAAC,EAAE,CAAC;MACpB;IAEF,CAAC,CAAC,OAAOuC,KAAK,EAAE;MACdX,OAAO,CAACW,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtDvC,cAAc,CAAC,EAAE,CAAC;IACpB;EACF,CAAC;EAED,MAAMwC,kBAAkB,GAAIC,UAAU,IAAK;IACzCvC,sBAAsB,CAACuC,UAAU,CAAC;EACpC,CAAC;EAED,MAAMC,eAAe,GAAGA,CAAA,KAAM;IAC5BxC,sBAAsB,CAAC,IAAI,CAAC;EAC9B,CAAC;EAED,MAAMyC,UAAU,GAAGA,CAACC,KAAK,EAAEC,CAAC,KAAK;IAC/BA,CAAC,CAACC,eAAe,CAAC,CAAC;IACnB1C,eAAe,CAACwC,KAAK,CAAC;EACxB,CAAC;EAED,MAAMG,WAAW,GAAGA,CAAA,KAAM;IACxB3C,eAAe,CAAC,IAAI,CAAC;EACvB,CAAC;;EAED;EACA,MAAM4C,eAAe,GAAGA,CAAA,KAAM;IAC5B1C,oBAAoB,CAAC,IAAI,CAAC;IAC1BE,WAAW,CAAC;MAAEC,MAAM,EAAE,EAAE;MAAEC,WAAW,EAAE,EAAE;MAAEC,SAAS,EAAE;IAAM,CAAC,CAAC;IAC9DE,UAAU,CAAC,EAAE,CAAC;EAChB,CAAC;EAED,MAAMoC,gBAAgB,GAAGA,CAAA,KAAM;IAC7B3C,oBAAoB,CAAC,KAAK,CAAC;IAC3BE,WAAW,CAAC;MAAEC,MAAM,EAAE,EAAE;MAAEC,WAAW,EAAE,EAAE;MAAEC,SAAS,EAAE;IAAM,CAAC,CAAC;IAC9DE,UAAU,CAAC,EAAE,CAAC;EAChB,CAAC;EAED,MAAMqC,iBAAiB,GAAIL,CAAC,IAAK;IAC/B,MAAM;MAAEM,IAAI;MAAEC;IAAM,CAAC,GAAGP,CAAC,CAACQ,MAAM;IAChC7C,WAAW,CAAC8C,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACH,IAAI,GAAGC;IAAM,CAAC,CAAC,CAAC;IACjDvC,UAAU,CAAC,EAAE,CAAC;EAChB,CAAC;EAED,MAAM0C,uBAAuB,GAAI5C,SAAS,IAAK;IAC7CH,WAAW,CAAC8C,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE3C;IAAU,CAAC,CAAC,CAAC;EAC/C,CAAC;EAED,MAAM6C,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI,CAACjD,QAAQ,CAACE,MAAM,CAACgD,IAAI,CAAC,CAAC,EAAE;MAC3B5C,UAAU,CAAC,4BAA4B,CAAC;MACxC;IACF;IAEAE,WAAW,CAAC,IAAI,CAAC;IACjB,IAAI;MACF,MAAM2C,WAAW,GAAG;QAClBjD,MAAM,EAAEF,QAAQ,CAACE,MAAM;QACvBC,WAAW,EAAEH,QAAQ,CAACG,WAAW,IAAI,EAAE;QACvCC,SAAS,EAAEJ,QAAQ,CAACI,SAAS;QAC7BgD,SAAS,EAAE9D,OAAO,CAACyC;MACrB,CAAC;MAED,MAAMjB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAG9B,OAAO,wBAAwB,EAAE;QAC/DoE,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEhC,IAAI,CAACC,SAAS,CAAC2B,WAAW;MAClC,CAAC,CAAC;MAEF,IAAIrC,QAAQ,CAACE,EAAE,EAAE;QACfV,UAAU,CAAC,oCAAoC,CAAC;QAChDkD,UAAU,CAAC,MAAM;UACfd,gBAAgB,CAAC,CAAC;UAClBjC,iBAAiB,CAAC,CAAC;QACrB,CAAC,EAAE,IAAI,CAAC;MACV,CAAC,MAAM;QACL,MAAMuB,KAAK,GAAG,MAAMlB,QAAQ,CAAC2C,IAAI,CAAC,CAAC;QACnCnD,UAAU,CAAC,KAAK0B,KAAK,EAAE,CAAC;MAC1B;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdX,OAAO,CAACW,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;MAC9B1B,UAAU,CAAC,gCAAgC,CAAC;IAC9C,CAAC,SAAS;MACRE,WAAW,CAAC,KAAK,CAAC;IACpB;EACF,CAAC;EAED,MAAMkD,kBAAkB,GAAG,MAAO3B,EAAE,IAAK;IACvC,IAAI,CAAC4B,MAAM,CAACC,OAAO,CAAC,yEAAyE,CAAC,EAAE;MAC9F;IACF;IAEA,IAAI;MACF,MAAM9C,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAG9B,OAAO,6BAA6B8C,EAAE,EAAE,EAAE;QACxEsB,MAAM,EAAE;MACV,CAAC,CAAC;MAEF,IAAIvC,QAAQ,CAACE,EAAE,EAAE;QACf6C,KAAK,CAAC,wBAAwB,CAAC;QAC/BpD,iBAAiB,CAAC,CAAC;QACnB0B,eAAe,CAAC,CAAC;MACnB,CAAC,MAAM;QACL0B,KAAK,CAAC,mCAAmC,CAAC;MAC5C;IACF,CAAC,CAAC,OAAO7B,KAAK,EAAE;MACdX,OAAO,CAACW,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;MAC9B6B,KAAK,CAAC,qBAAqB,CAAC;IAC9B;EACF,CAAC;EAED,MAAMC,yBAAyB,GAAG,MAAAA,CAAOC,YAAY,EAAEC,OAAO,EAAE1B,CAAC,KAAK;IACpEA,CAAC,CAACC,eAAe,CAAC,CAAC;IAEnB,IAAI,CAACoB,MAAM,CAACC,OAAO,CAAC,gDAAgD,CAAC,EAAE;MACrE;IACF;IAEA,IAAI;MACF,MAAM9C,QAAQ,GAAG,MAAMC,KAAK,CAC1B,GAAG9B,OAAO,oBAAoB8E,YAAY,mBAAmBC,OAAO,EAAE,EACtE;QAAEX,MAAM,EAAE;MAAS,CACrB,CAAC;MAED,IAAIvC,QAAQ,CAACE,EAAE,EAAE;QACf6C,KAAK,CAAC,oCAAoC,CAAC;QAE3C,MAAMI,qBAAqB,GAAG;UAC5B,GAAGvE,mBAAmB;UACtBwE,MAAM,EAAExE,mBAAmB,CAACwE,MAAM,CAACtC,MAAM,CAACS,KAAK,IAAIA,KAAK,CAACN,EAAE,KAAKiC,OAAO;QACzE,CAAC;QACDrE,sBAAsB,CAACsE,qBAAqB,CAAC;QAE7CxD,iBAAiB,CAAC,CAAC;MACrB,CAAC,MAAM;QACLoD,KAAK,CAAC,8BAA8B,CAAC;MACvC;IACF,CAAC,CAAC,OAAO7B,KAAK,EAAE;MACdX,OAAO,CAACW,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;MAC9B6B,KAAK,CAAC,qBAAqB,CAAC;IAC9B;EACF,CAAC;EAED,MAAMM,gBAAgB,GAAGA,CAAC7B,CAAC,EAAE3B,OAAO,KAAK;IACvC2B,CAAC,CAACQ,MAAM,CAACsB,KAAK,CAACC,OAAO,GAAG,MAAM;IAC/B,MAAMC,WAAW,GAAGhC,CAAC,CAACQ,MAAM,CAACyB,WAAW;IACxC,IAAID,WAAW,EAAE;MACfA,WAAW,CAACE,SAAS,CAACC,GAAG,CAAC,SAAS,CAAC;IACtC;EACF,CAAC;EAED,oBACEzF,OAAA;IAAK0F,SAAS,EAAC,kBAAkB;IAAAC,QAAA,eAC/B3F,OAAA;MAAK0F,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3B3F,OAAA;QAAK0F,SAAS,EAAC,uBAAuB;QAAAC,QAAA,gBAEpC3F,OAAA;UAAK0F,SAAS,EAAC,uCAAuC;UAACE,OAAO,EAAEnC,eAAgB;UAAAkC,QAAA,gBAC9E3F,OAAA;YAAK0F,SAAS,EAAC,aAAa;YAAAC,QAAA,EAAC;UAAC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACpChG,OAAA;YAAA2F,QAAA,EAAI;UAAkB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxB,CAAC,EAEL3F,WAAW,CAAC4F,GAAG,CAAE/C,UAAU;UAAA,IAAAgD,kBAAA;UAAA,oBAC1BlG,OAAA;YAEE0F,SAAS,EAAC,iBAAiB;YAC3BE,OAAO,EAAEA,CAAA,KAAM3C,kBAAkB,CAACC,UAAU,CAAE;YAAAyC,QAAA,gBAE9C3F,OAAA;cAAK0F,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChC3F,OAAA;gBAAM0F,SAAS,EAAC,OAAO;gBAAAC,QAAA,EAAEzC,UAAU,CAAC9B,SAAS,GAAG,IAAI,GAAG;cAAI;gBAAAyE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACnEhG,OAAA;gBAAA2F,QAAA,EAAKzC,UAAU,CAAChC;cAAM;gBAAA2E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzB,CAAC,eAENhG,OAAA;cAAG0F,SAAS,EAAC,wBAAwB;cAAAC,QAAA,EAClCzC,UAAU,CAAC/B,WAAW,IAAG;YAAiB;cAAA0E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1C,CAAC,eAEJhG,OAAA;cAAK0F,SAAS,EAAC,iBAAiB;cAAAC,QAAA,EAC7BzC,UAAU,CAACgC,MAAM,IAAIhC,UAAU,CAACgC,MAAM,CAACiB,MAAM,GAAG,CAAC,GAChDjD,UAAU,CAACgC,MAAM,CAACkB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACH,GAAG,CAAE5C,KAAK,iBACtCrD,OAAA;gBAAoB0F,SAAS,EAAC,oBAAoB;gBAAAC,QAAA,gBAChD3F,OAAA;kBACEqG,GAAG,EAAEhD,KAAK,CAACiD,WAAY;kBACvBC,GAAG,EAAElD,KAAK,CAACmD,MAAO;kBAClBd,SAAS,EAAC,cAAc;kBACxBe,OAAO,EAAGnD,CAAC,IAAK6B,gBAAgB,CAAC7B,CAAC,EAAED,KAAK,CAACN,EAAE;gBAAE;kBAAA8C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/C,CAAC,eACFhG,OAAA;kBAAK0F,SAAS,EAAE,qBAAqBhE,iBAAiB,CAAC2B,KAAK,CAACN,EAAE,CAAC,EAAG;kBAAA4C,QAAA,EAAC;gBAEpE;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC;cAAA,GATE3C,KAAK,CAACN,EAAE;gBAAA8C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAUb,CACN,CAAC,gBAEFhG,OAAA;gBAAM0F,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,EAAC;cAAc;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YACvD;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC,eAENhG,OAAA;cAAK0F,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChC3F,OAAA;gBAAM0F,SAAS,EAAExC,UAAU,CAAC9B,SAAS,GAAG,eAAe,GAAG,eAAgB;gBAAAuE,QAAA,EACvEzC,UAAU,CAAC9B,SAAS,GAAG,SAAS,GAAG;cAAS;gBAAAyE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzC,CAAC,eAEPhG,OAAA;gBAAM0F,SAAS,EAAC,UAAU;gBAAAC,QAAA,GAAC,eACtB,EAAC,EAAAO,kBAAA,GAAAhD,UAAU,CAACgC,MAAM,cAAAgB,kBAAA,uBAAjBA,kBAAA,CAAmBC,MAAM,KAAI,CAAC;cAAA;gBAAAN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CAAC;UAAA,GAzCD9C,UAAU,CAACH,EAAE;YAAA8C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OA0Cf,CAAC;QAAA,CACP,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EAGLlF,iBAAiB,iBAChBd,OAAA;QAAK0F,SAAS,EAAC,wBAAwB;QAACE,OAAO,EAAElC,gBAAiB;QAAAiC,QAAA,eAChE3F,OAAA;UAAK0F,SAAS,EAAC,uBAAuB;UAACE,OAAO,EAAGtC,CAAC,IAAKA,CAAC,CAACC,eAAe,CAAC,CAAE;UAAAoC,QAAA,gBACzE3F,OAAA;YAAA2F,QAAA,EAAI;UAAyB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EAEjC3E,OAAO,iBACNrB,OAAA;YAAK0F,SAAS,EAAErE,OAAO,CAACqF,QAAQ,CAAC,GAAG,CAAC,GAAG,eAAe,GAAG,eAAgB;YAAAf,QAAA,EACvEtE;UAAO;YAAAwE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CACN,eAEDhG,OAAA;YAAK0F,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB3F,OAAA;cAAA2F,QAAA,EAAO;YAAQ;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACvBhG,OAAA;cACE2G,IAAI,EAAC,MAAM;cACX/C,IAAI,EAAC,QAAQ;cACbC,KAAK,EAAE7C,QAAQ,CAACE,MAAO;cACvB0F,QAAQ,EAAEjD,iBAAkB;cAC5B2B,WAAW,EAAC;YAAqB;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENhG,OAAA;YAAK0F,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB3F,OAAA;cAAA2F,QAAA,EAAO;YAAW;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC1BhG,OAAA;cACE4D,IAAI,EAAC,aAAa;cAClBC,KAAK,EAAE7C,QAAQ,CAACG,WAAY;cAC5ByF,QAAQ,EAAEjD,iBAAkB;cAC5B2B,WAAW,EAAC;YAA2B;cAAAO,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAENhG,OAAA;YAAK0F,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzB3F,OAAA;cAAA2F,QAAA,EAAO;YAAW;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC1BhG,OAAA;cAAK0F,SAAS,EAAC,sBAAsB;cAAAC,QAAA,gBACnC3F,OAAA;gBACE0F,SAAS,EAAE,sBAAsB,CAAC1E,QAAQ,CAACI,SAAS,GAAG,QAAQ,GAAG,EAAE,EAAG;gBACvEwE,OAAO,EAAEA,CAAA,KAAM5B,uBAAuB,CAAC,KAAK,CAAE;gBAAA2B,QAAA,gBAE9C3F,OAAA;kBAAK0F,SAAS,EAAC,cAAc;kBAAAC,QAAA,EAAC;gBAAE;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACtChG,OAAA;kBAAA2F,QAAA,EAAI;gBAAO;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAChBhG,OAAA;kBAAA2F,QAAA,EAAG;gBAAoB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxB,CAAC,eAENhG,OAAA;gBACE0F,SAAS,EAAE,sBAAsB1E,QAAQ,CAACI,SAAS,GAAG,QAAQ,GAAG,EAAE,EAAG;gBACtEwE,OAAO,EAAEA,CAAA,KAAM5B,uBAAuB,CAAC,IAAI,CAAE;gBAAA2B,QAAA,gBAE7C3F,OAAA;kBAAK0F,SAAS,EAAC,cAAc;kBAAAC,QAAA,EAAC;gBAAE;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACtChG,OAAA;kBAAA2F,QAAA,EAAI;gBAAO;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAChBhG,OAAA;kBAAA2F,QAAA,EAAG;gBAAwB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENhG,OAAA;YAAK0F,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5B3F,OAAA;cAAQ0F,SAAS,EAAC,wBAAwB;cAACE,OAAO,EAAElC,gBAAiB;cAAAiC,QAAA,EAAC;YAEtE;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACThG,OAAA;cACE0F,SAAS,EAAC,qBAAqB;cAC/BE,OAAO,EAAE3B,eAAgB;cACzB4C,QAAQ,EAAEtF,QAAS;cAAAoE,QAAA,EAElBpE,QAAQ,GAAG,YAAY,GAAG;YAAkB;cAAAsE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,EAGAtF,mBAAmB,iBAClBV,OAAA;QAAK0F,SAAS,EAAC,sBAAsB;QAACE,OAAO,EAAEzC,eAAgB;QAAAwC,QAAA,eAC7D3F,OAAA;UAAK0F,SAAS,EAAC,gCAAgC;UAACE,OAAO,EAAGtC,CAAC,IAAKA,CAAC,CAACC,eAAe,CAAC,CAAE;UAAAoC,QAAA,gBAClF3F,OAAA;YAAK0F,SAAS,EAAC,6BAA6B;YAAAC,QAAA,gBAC1C3F,OAAA;cAAA2F,QAAA,gBACE3F,OAAA;gBAAA2F,QAAA,EAAOjF,mBAAmB,CAACU,SAAS,GAAG,IAAI,GAAG;cAAI;gBAAAyE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,EACzDtF,mBAAmB,CAACQ,MAAM;YAAA;cAAA2E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzB,CAAC,eACLhG,OAAA;cAAQ0F,SAAS,EAAC,YAAY;cAACE,OAAO,EAAEzC,eAAgB;cAAAwC,QAAA,EAAC;YAAC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChE,CAAC,eAENhG,OAAA;YAAK0F,SAAS,EAAC,2BAA2B;YAAAC,QAAA,gBACxC3F,OAAA;cAAK0F,SAAS,EAAC,2BAA2B;cAAAC,QAAA,gBACxC3F,OAAA;gBAAA2F,QAAA,gBAAG3F,OAAA;kBAAA2F,QAAA,EAAQ;gBAAY;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAACtF,mBAAmB,CAACS,WAAW,IAAI,iBAAiB;cAAA;gBAAA0E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC3FhG,OAAA;gBAAA2F,QAAA,gBACE3F,OAAA;kBAAA2F,QAAA,EAAQ;gBAAY;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC7BhG,OAAA;kBAAM0F,SAAS,EAAEhF,mBAAmB,CAACU,SAAS,GAAG,eAAe,GAAG,eAAgB;kBAACgE,KAAK,EAAE;oBAAC0B,UAAU,EAAE;kBAAQ,CAAE;kBAAAnB,QAAA,EAC/GjF,mBAAmB,CAACU,SAAS,GAAG,SAAS,GAAG;gBAAS;kBAAAyE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAClD,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC,eACJhG,OAAA;gBAAA2F,QAAA,gBAAG3F,OAAA;kBAAA2F,QAAA,EAAQ;gBAAgB;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,KAAC,EAAC,EAAAxF,qBAAA,GAAAE,mBAAmB,CAACwE,MAAM,cAAA1E,qBAAA,uBAA1BA,qBAAA,CAA4B2F,MAAM,KAAI,CAAC;cAAA;gBAAAN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAElFhG,OAAA;gBACE0F,SAAS,EAAC,cAAc;gBACxBE,OAAO,EAAEA,CAAA,KAAMlB,kBAAkB,CAAChE,mBAAmB,CAACqC,EAAE,CAAE;gBAAA4C,QAAA,EAC3D;cAED;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eAENhG,OAAA;cAAK0F,SAAS,EAAC,mBAAmB;cAAAC,QAAA,EAC/BjF,mBAAmB,CAACwE,MAAM,IAAIxE,mBAAmB,CAACwE,MAAM,CAACiB,MAAM,GAAG,CAAC,GAClEzF,mBAAmB,CAACwE,MAAM,CAACe,GAAG,CAAE5C,KAAK,iBACnCrD,OAAA;gBAEE0F,SAAS,EAAC,cAAc;gBACxBE,OAAO,EAAGtC,CAAC,IAAKF,UAAU,CAACC,KAAK,EAAEC,CAAC,CAAE;gBAAAqC,QAAA,gBAErC3F,OAAA;kBACE0F,SAAS,EAAC,oBAAoB;kBAC9BE,OAAO,EAAGtC,CAAC,IAAKwB,yBAAyB,CAACpE,mBAAmB,CAACqC,EAAE,EAAEM,KAAK,CAACN,EAAE,EAAEO,CAAC,CAAE;kBAC/EyD,KAAK,EAAC,2BAA2B;kBAAApB,QAAA,EAClC;gBAED;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACThG,OAAA;kBAAK0F,SAAS,EAAC,8BAA8B;kBAAAC,QAAA,gBAC3C3F,OAAA;oBACEqG,GAAG,EAAE,GAAGpG,OAAO,uBAAuBoD,KAAK,CAACN,EAAE,EAAG;oBACjDwD,GAAG,EAAElD,KAAK,CAACmD,MAAO;oBAClBC,OAAO,EAAGnD,CAAC,IAAK6B,gBAAgB,CAAC7B,CAAC,EAAED,KAAK,CAACN,EAAE;kBAAE;oBAAA8C,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC/C,CAAC,eACFhG,OAAA;oBAAK0F,SAAS,EAAE,4BAA4BhE,iBAAiB,CAAC2B,KAAK,CAACN,EAAE,CAAC,EAAG;oBAAA4C,QAAA,EAAC;kBAE3E;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACNhG,OAAA;kBAAK0F,SAAS,EAAC,qBAAqB;kBAAAC,QAAA,EAAEtC,KAAK,CAACmD;gBAAM;kBAAAX,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA,GArBpD3C,KAAK,CAACN,EAAE;gBAAA8C,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAsBV,CACN,CAAC,gBAEFhG,OAAA;gBAAK0F,SAAS,EAAC,mBAAmB;gBAAAC,QAAA,EAAC;cAEnC;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK;YACN;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,EAGApF,YAAY,iBACXZ,OAAA,CAACF,WAAW;QACVkH,GAAG,EAAE,GAAG/G,OAAO,mBAAmBW,YAAY,CAACmC,EAAE,EAAG;QACpDkE,OAAO,EAAEzD;MAAY;QAAAqC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtB,CACF;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACzF,EAAA,CAhZQF,WAAW;AAAA6G,EAAA,GAAX7G,WAAW;AAkZpB,eAAeA,WAAW;AAAC,IAAA6G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}